## 处理机调度
- 哪种同步机制不能在中断上下文使用
	> 信号量
	> 补充知识点：自旋锁、信号量、原子操作、内存屏障
- 创建进程必须的步骤
	> 1. 创建空白 PCB
	> 2. 为进程分配资源
	> 3. 初始化 PCB
	> 4. 加入就绪队列
	> 在运行过程中才需要 CPU 资源。
- 中断分类
	> 缺页中断属于程序中断
- 管道的特点
	> 1. 只能单向通信
	> 2. 只能与有血缘关系的进程进行通信
	> 3. 依赖于文件系统
	> 4. 生命周期跟随进程
	> 5. 面向字节流的服务
	> 6. 管道内部提供了同步机制
- 线程与进程的关系
	> 1. 线程自己拥有一部分资源，但它可以使用所属进程但资源
	> 2. 由于同一个进程中的多个线程具有相同的地址空间，所以它们的同步和通信也易于实现
	> 3. 进程创建与线程创建的时空开销不相同
	> 4. 进程切换与线程切换的时空开销不相同
- 为使系统不发生死锁，最少需要的资源数是多少
	> 进程 n，资源 m， 最小需要资源数 x
	> x = n * (m - 1) + 1
- 流水线阻塞的情况
	> 有三种：
	> 1. 结构相关：指令重叠执行的过程中，硬件资源满足不了指令重叠执行的要求，发生资源冲突，这时将产生结构相关。解决的办法是增加硬件资源，如解决访存冲突就采用指令 Cache 和数据 Cache 分离的哈弗结构。
	> 2. 数据相关：当一条指令需要前面某条指令的执行结果，而两者正在并行执行的情况下，将产生数据相关。解决方式：数据重定向，或称为旁路技术。
	> 3. 控制相关：有跳转语句、分支指令，或其他改变IP值的指令，将产生控制相关。解决方法：分支预测技术，投机执行，延迟分支。
- 衡量 CPU 的性能指标
	> 工作频率：主频、外频、倍频系数
	> 缓存：内部 Cache 容量，解决 CPU 与内存速度不匹配
	> 字长：一次运算的二进制位数
	> 指令系统：CPU 依靠指令系统来控制系统
- 分级调度算法的特性
	> I 级队列的进程获得的时间片最少。
	> 一个新创建的进程 P，会先进入 I 级队列
	> 分级调度是结合了时间片轮转法和优先级算法的优势。
- 进程通信模式
	> **指在进程间传输数据**(交换信息)。进程通信根据交换信息量的多少和效率的高低，分为**低级通信**(只能传递状态和整数值)和**高级通信**(提高信号通信的效率，传递大量数据，减轻程序编制的复杂度)。  
	> 高级进程通信：
	> -   **共享内存模式**：相互通讯的进程有共享存储区.进程间可以通过直接读写共享存储区的变量来交互数据，同步与互斥在并发程序设计时安排进入程序。
	> -   **消息传递模式**：通过操作系统的相应系统调用进行消息传递通讯。分为直接和间接两种，**直接通信**方式：点到点的发送。**间接通信**方式：以信箱为媒介进行传递，可以广播，**其中媒介作为文件共享的平台**。
	> -   **管道通信模式**：是一种信息流缓冲机构， UNIX 系统中管道基于文件系统，在内核中通过文件描述符表示。管道以先进先出 (FIFO) 方式组织数据传输。
- 平均周转时间的计算
	> 平均周转时间 = (等待时间 + 执行时间) / 进程数
- 进程调度中 “可抢占” 和 “非抢占”，哪种引起的系统开销更大
	> 可抢占
- 在多道程序系统中，系统的现有空闲可用资源能否满足后备作业 J 的资源要求，是否为选择作业 J 进入内存的必要条件。
	> 否，进入内存不一定需要全部资源
- Unix 操作系统的进程控制块中常驻内存的是？
	> proc 结构
- 系统栈的概念
	> **系统栈（也叫核心栈、内核栈）**是内存中属于 操作系统 空间的一块区域，其主要用途为：
	>  1. 保存中断现场，对于嵌套中断，被中断程序的现场信息依次压入系统栈，中断返回时逆序弹出；  
	>  2. 保存操作系统子程序间相互调用的参数、返回值、返回点以及子程序 (函数) 的局部变量。  
	>  
	>  **用户栈**是用户进程空间中的一块区域，用于保存用户进程的子程序间相互调用的参数、返回值、返回点以及子程序 (函数) 的局部变量。
- 动态重定位过程依赖于
	> 1. 重定位寄存器（即基地址寄存器）
	> 2. 地址变换机构
	> 3. 目标程序
- 作业从后备作业到被调度程序选中到时间称为（）
	> 等待调度时间
	> 其它几个类似概念：周转时间、响应时间、运行时间

## 存储管理
- 结构体内存对齐
- 内存读取的线周期
- 不会产生内部碎片的存储管理是
	> 分段式存储管理
- 哪些存储分配方法可能使系统抖动
	> 页式、段式、段页式
- 可以存储页表的存储器有
	> 硬盘、内存
-  LRU 算法用于
	> 虚拟内存的分配和物理内存的释放
- 分页存储管理系统中，逻辑地址对应的物理地址
	> 假设页长为 1KB，则 2 ^ 10 = 1K，需要 10 位长度表示页内容
	> 假设需要找的逻辑地址为 0A1F，转换为 2 进制为 0000 10**10 0001 1111**（加粗为后 10 位）
	> 所以页号为 10(B)，也就是 2(D)，找到表中 2 号页对应的物理块号，比如是 3(D)
	> 则最终地址则是 0000 11**10 0001 1111**(B)，即 0E1F(H)
### 缓存

### 虚拟存储器
- 虚拟存储器的最大容量是（）决定的
	> 虚拟寄存器的最大容量 = min(内存 + 外存, 2^地址总线位数)
- 虚拟内存的特性
	> 1. 多次性：是指无需在作业运行时一次性地全部装入内存，而是允许被分成多次调用内存运行
	> 2. 对换性：是指无需在作业运行时一直常驻内存，而是允许在作业运行的过程中，进行换入和换出
	> 3. 虚拟性：是指从逻辑上扩充内存的容量，使用户所看到的内存容量，远大于实际的内存容量
### 磁盘存储器
- 在 UNIX 系统中，磁盘空闲空间管理的方法是
	> 成组链接法
	> 其它方法有：位图法、空闲块表法、单块链接法
- 磁盘存储器是由（）组成的
	> 控制器、驱动器结构、磁盘
- 假定把磁盘上的一个数据块中的信息输入到一个双缓冲区的时间为T=0.1ms，将缓冲区中的数据传送到用户区的时间M=0.05ms，而CPU对数据的处理时间C=0.05ms，这样系统对每个数据块的处理时间为（）
	> 对于单缓冲：
	> 
	> 假定从磁盘把一块数据输入到缓冲区的时间为T，操作系统将该缓冲区中的数据传送到用户区的时间为M，而CPU对这一块数据处理的时间为 C。由于T和C是可以并行的，当T>C时，系统对每一块数据的处理时间为M十T，反之则为M+C，故可把系统对每一块数据的处理时间表示为Max(C, T)+M。
	> 
	> 对于双缓冲：
	> 系统处理一块数据的时间可以粗略地认为是MAC(C, T)。如果C<T，可使块设备连续输入（图中所示情况)；如果C>T，则可使CPU不必等待设备输入。对于字符设备，若釆用行输入方式，则釆用双缓冲可使用户在输入完第一行之后，在CPU执行第一行中的命令的同时，用户可继续向第二缓冲区输入下一行数据。而单缓冲情况下则必须等待一行数据被提取完毕才可输入下一行的数据。

## 输入输出
- I/O 操作与 I/O 请求包的对应关系
	> 一次 I/O 对应一个 I/O 请求包；
	> 多次 I/O 请求对应一个 I/O 请求包；
	> 每次 I/O 操作都会有对应 IO 请求包

## 文件管理
- ext2 与 ext3 文件系统的区别
- 文件句柄与文件描述符
	> 文件句柄（Windows 概念）；文件描述符（Linux 概念）
	> 最终目的都是用来定位打开的文件在内存中的位置
	> 参考博文：[文件句柄、文件描述符与进程和多线程的那些事](https://my.oschina.net/iuranus/blog/330397?fromerr=x1SVuj0Z)
- 连续文件的优点有
	> 连续存取时速度快、不会占用额外的存储空间、易于支持随机访问
- 文件系统管理的最小磁盘空间单位是
	> 簇
	> 扇区是磁盘最小的物理存储单元，一般是 512 字节/扇区。
	> 系统读写文件的基本单位是簇（Windows）或块（Linux），其大小为 2 的 n 次方（具体由文件系统决定）。
- 记录型文件，操作系统为用户存取文件信息的最小单位是
	> 记录

## 设备管理
- 设备的独立性
	> 是指用户在进行输入/输出的时候，不需要考虑具体的输入/输出设备（物理设备），而可以用一种更通用的方式进行输入输出（逻辑设备）。


## 系统接口
- Unix 系统调用
	> 只能允许用户在汇编语言上使用系统调用
- 在指令系统中，只能由操作系统使用的指令称为（）
	> 特权指令
	> 系统指令一般指指令系统，指令系统由**用户指令**和**特权指令**组成。

- 操作系统中不能被系统中断的特殊系统调用
	> 原语