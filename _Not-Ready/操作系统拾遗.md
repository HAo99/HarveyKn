
- ext2 与 ext3 文件系统的区别
- 结构体内存对齐
- 内存读取的线周期
- Unix 系统调用
	> 只能允许用户在汇编语言上使用系统调用
- I/O 操作与 I/O 请求包的对应关系
	> 一次 I/O 对应一个 I/O 请求包；
	> 多次 I/O 请求对应一个 I/O 请求包；
	> 每次 I/O 操作都会有对应 IO 请求包
- 文件句柄与文件描述符
	> 文件句柄（Windows 概念）；文件描述符（Linux 概念）
	> 最终目的都是用来定位打开的文件在内存中的位置
	> 参考博文：[文件句柄、文件描述符与进程和多线程的那些事](https://my.oschina.net/iuranus/blog/330397?fromerr=x1SVuj0Z)
- 哪种同步机制不能在中断上下文使用
	> 信号量
	> 补充知识点：自旋锁、信号量、原子操作、内存屏障
- 中断分类
	> 缺页中断属于程序中断
- 设备的独立性
	> 是指用户在进行输入/输出的时候，不需要考虑具体的输入/输出设备（物理设备），而可以用一种更通用的方式进行输入输出（逻辑设备）。
- 可变分区管理方案中，若采用“最佳适应”分配算法，通常将空闲区按什么顺序排列
	> 容量递增
- 创建进程必须的步骤
	> 1. 创建空白 PCB
	> 2. 为进程分配资源
	> 3. 初始化 PCB
	> 4. 加入就绪队列
	> 在运行过程中才需要 CPU 资源。
- 在 UNIX 系统中，磁盘空闲空间管理的方法是
	> 成组链接法
	> 其它方法有：位图法、空闲块表法、单块链接法
-  LRU 算法用于
	> 虚拟内存的分配和物理内存的释放
- 衡量 CPU 的性能指标
	> 工作频率：主频、外频、倍频系数
	> 缓存：内部 Cache 容量，解决 CPU 与内存速度不匹配
	> 字长：一次运算的二进制位数
	> 指令系统：CPU 依靠指令系统来控制系统
- 操作系统中不能被系统中断的特殊系统调用
	> 原语
- 不会产生内部碎片的存储管理是
	> 分段式存储管理
- 哪些存储分配方法可能使系统抖动
	> 页式、段式、段页式
- 可以存储页表的存储器有
	> 硬盘、内存
- 远程过程调用可以用于分布式系统中的进程间的通信
- 为使系统不发生死锁，最少需要的资源数是多少
	> 进程 n，资源 m， 最小需要资源数 x
	> x = n * (m - 1) + 1
- 分页存储管理系统需要用到的表格
	> - 存储分配表：需要对内存的空闲块进行管理和分配，也可以理解成是空闲块表
	> - 页表：页表肯定是必须的，需要记录页的状态，还有建立逻辑地址到物理地址的映射
- 在指令系统中，只能由操作系统使用的指令称为（）
	> 特权指令
	> 系统指令一般指指令系统，指令系统由**用户指令**和**特权指令**组成。
- 分页存储管理系统中，逻辑地址对应的物理地址
	> 假设页长为 1KB，则 2 ^ 10 = 1K，需要 10 位长度表示页内容
	> 假设需要找的逻辑地址为 0A1F，转换为 2 进制为 0000 10**10 0001 1111**（加粗为后 10 位）
	> 所以页号为 10(B)，也就是 2(D)，找到表中 2 号页对应的物理块号，比如是 3(D)
	> 则最终地址则是 0000 11**10 0001 1111**(B)，即 0E1F(H)
- 假定把磁盘上的一个数据块中的信息输入到一个双缓冲区的时间为T=0.1ms，将缓冲区中的数据传送到用户区的时间M=0.05ms，而CPU对数据的处理时间C=0.05ms，这样系统对每个数据块的处理时间为（）
	> 对于单缓冲：
	> 
	> 假定从磁盘把一块数据输入到缓冲区的时间为T，操作系统将该缓冲区中的数据传送到用户区的时间为M，而CPU对这一块数据处理的时间为 C。由于T和C是可以并行的，当T>C时，系统对每一块数据的处理时间为M十T，反之则为M+C，故可把系统对每一块数据的处理时间表示为Max(C, T)+M。
	> 
	> 对于双缓冲：
	> 系统处理一块数据的时间可以粗略地认为是MAC(C, T)。如果C<T，可使块设备连续输入（图中所示情况)；如果C>T，则可使CPU不必等待设备输入。对于字符设备，若釆用行输入方式，则釆用双缓冲可使用户在输入完第一行之后，在CPU执行第一行中的命令的同时，用户可继续向第二缓冲区输入下一行数据。而单缓冲情况下则必须等待一行数据被提取完毕才可输入下一行的数据。
- 并发程序失去封闭性，是指
	> 并发进程共享变量，其执行结果与速度有关
- 分级调度算法的特性
	> I 级队列的进程获得的时间片最少。
	> 一个新创建的进程 P，会先进入 I 级队列
	> 分级调度是结合了时间片轮转法和优先级算法的优势。
- 进程通信模式
	> **指在进程间传输数据**(交换信息)。进程通信根据交换信息量的多少和效率的高低，分为**低级通信**(只能传递状态和整数值)和**高级通信**(提高信号通信的效率，传递大量数据，减轻程序编制的复杂度)。  
	> 高级进程通信：
	> -   **共享内存模式**：相互通讯的进程有共享存储区.进程间可以通过直接读写共享存储区的变量来交互数据，同步与互斥在并发程序设计时安排进入程序。
	> -   **消息传递模式**：通过操作系统的相应系统调用进行消息传递通讯。分为直接和间接两种，**直接通信**方式：点到点的发送。**间接通信**方式：以信箱为媒介进行传递，可以广播，**其中媒介作为文件共享的平台**。
	> -   **管道通信模式**：是一种信息流缓冲机构， UNIX 系统中管道基于文件系统，在内核中通过文件描述符表示。管道以先进先出 (FIFO) 方式组织数据传输。
- 连续文件的优点有
	> 连续存取时速度快、不会占用额外的存储空间、易于支持随机访问
- 平均周转时间的计算
	> 平均周转时间 = (等待时间 + 执行时间) / 进程数
- 进程调度中 “可抢占” 和 “非抢占”，哪种引起的系统开销更大
	> 可抢占
- 在多道程序系统中，系统的现有空闲可用资源能否满足后备作业 J 的资源要求，是否为选择作业 J 进入内存的必要条件。
	> 否，进入内存不一定需要全部资源
- Unix 操作系统的进程控制块中常驻内存的是？
	> proc 结构
- 系统栈的概念
	> **系统栈（也叫核心栈、内核栈）**是内存中属于 操作系统 空间的一块区域，其主要用途为：
	>  1. 保存中断现场，对于嵌套中断，被中断程序的现场信息依次压入系统栈，中断返回时逆序弹出；  
	>  2. 保存操作系统子程序间相互调用的参数、返回值、返回点以及子程序 (函数) 的局部变量。  
	>  
	>  **用户栈**是用户进程空间中的一块区域，用于保存用户进程的子程序间相互调用的参数、返回值、返回点以及子程序 (函数) 的局部变量。
- 动态重定位过程依赖于
	> 1. 重定位寄存器（即基地址寄存器）
	> 2. 地址变换机构
	> 3. 目标程序
- 作业从后备作业到被调度程序选中到时间称为（）
	> 等待调度时间
	> 其它几个类似概念：周转时间、响应时间、运行时间
- 操作系统缓冲技术
	> 缓冲技术主要通过软件来进行实现，硬件实现的成本过高，只在对速度要求非常高对场合
	> 一般情况下，更多的是利用**内存**作为缓冲区，如单缓冲区、双缓冲区、环形缓冲区和缓冲池
- 消息机制不能支持进程间互斥
- 文件系统管理的最小磁盘空间单位是
	> 簇
	> 扇区是磁盘最小的物理存储单元，一般是 512 字节/扇区。
	> 系统读写文件的基本单位是簇（Windows）或块（Linux），其大小为 2 的 n 次方（具体由文件系统决定）。
- 管道的特点
	> 1. 只能单向通信
	> 2. 只能与有血缘关系的进程进行通信
	> 3. 依赖于文件系统
	> 4. 生命周期跟随进程
	> 5. 面向字节流的服务
	> 6. 管道内部提供了同步机制
- 线程与进程的关系
	> 1. 线程自己拥有一部分资源，但它可以使用所属进程但资源
	> 2. 由于同一个进程中的多个线程具有相同的地址空间，所以它们的同步和通信也易于实现
	> 3. 进程创建与线程创建的时空开销不相同
	> 4. 进程切换与线程切换的时空开销不相同
- 虚拟存储器的最大容量是（）决定的
	> 虚拟寄存器的最大容量 = min(内存 + 外存, 2^地址总线位数)
- 虚拟内存的特性
	> 1. 多次性：是指无需在作业运行时一次性地全部装入内存，而是允许被分成多次调用内存运行
	> 2. 对换性：是指无需在作业运行时一直常驻内存，而是允许在作业运行的过程中，进行换入和换出
	> 3. 虚拟性：是指从逻辑上扩充内存的容量，使用户所看到的内存容量，远大于实际的内存容量
- 流水线阻塞的情况
	> 有三种：
	> 1. 结构相关：指令重叠执行的过程中，硬件资源满足不了指令重叠执行的要求，发生资源冲突，这时将产生结构相关。解决的办法是增加硬件资源，如解决访存冲突就采用指令 Cache 和数据 Cache 分离的哈弗结构。
	> 2. 数据相关：当一条指令需要前面某条指令的执行结果，而两者正在并行执行的情况下，将产生数据相关。解决方式：数据重定向，或称为旁路技术。
	> 3. 控制相关：有跳转语句、分支指令，或其他改变IP值的指令，将产生控制相关。解决方法：分支预测技术，投机执行，延迟分支。
- 记录型文件，操作系统为用户存取文件信息的最小单位是
	> 记录
- 磁盘存储器是由（）组成的
	> 控制器、驱动器结构、磁盘
- 进程间通信
- 在指令格式中使用扩展操作码的设计方案是为了
	> 保持指令字长不变

*归档 1：2021/8/16*

---
- 以下哪个命令可以改变进程的优先级
	> renice
- 内存碎片需要考虑内部碎片和外部碎片
	> 分段存储可以解决内部碎片，但会产生外部碎片
	> 分页存储可以解决外部碎片
- Unix 系统中，以下哪些可以用于进程间通信
	> 套接字
	> 信号量
	> 消息队列
	> 共享内存
- 操作系统工作集模型概念
	> 一个进程访问的页面集合
- `fork` 和 `exec` 的概念
- （）算法是设备分配常用的一种算法
	> 先来先服务
- （）置换算法会产生 “分配给进程的内存块数增加后，反而可能导致缺页次数增加” 的现象
	> 先进先出
- 联想存储器在计算机系统中是用于（）的
	> 地址变换
- 解决 CPU 输出速度远高于外设读取速度这一矛盾的方法是
	> 缓冲技术
- 符号链接的方式共享文件，当文件删除的时候，该共享链接会
	> 失效
- 打开文件操作时，主要的工作是
	> 把指定文件的 FCB 复制到内存指定的区域
- 解决碎片问题，使程序可浮动的最好方法是采用（）
	> 动态重定位技术
- 在设备管理中，逻辑设备表（LUT）的作用是（）
	> 在物理设备和逻辑设备之间建立对应关系
- linux 2.6.* 内核默认支持的文件系统有哪些？
	> - ext2
	> - ext3
	> - ext4
	> - xfs
- 虚拟存储器页面替换，为堆栈型的算法有
	> 近期最久未使用法
- Bash 中 `$#`、`$?` 之类的作用
- “紧凑” 技术可以对内存实现碎片整理
- I/O 设备状态一般不属于进程控制块的信息
- 在硬件环境相同的条件下，一个作业在（）存储管理系统中运行的时间最长。
	> 也就是求哪个管理方式的开销最大
	> 分页式管理可能把连续的指令放在不同的页中，多次造成分页中断。
- “裸机” 指的是没有配置任何操作系统和其他软件的计算机
- 常见的寄存器
	> 用户可见的寄存器：
	> - 数据寄存器：又称通用寄存器，用于各种算术逻辑指令和访存指令（例如 AX、BX、CX、DX 等寄存器）
	> - 地址寄存器：用于存储数据及指令的物理地址、线性地址或者有效地址（例如 DS、SS、ES、FS 等寄存器）
	> - 条件码寄存器：保存处理器操作结果的各种标记位（例如：FLAGS 寄存器）
	> 控制和状态寄存器
	> - 程序计数器：记录了将要取出的指令地址
	> - 指令寄存器：包含了最近取出的指令
	> - 程序状态字：记录了处理器的运行模式
- 进程同步与进程互斥
	> 进程同步：两个进程要共同完成一个任务，所有满足的关系，是直接制约
	> 进程互斥：两个进程申请相同的临界资源，通过临界资源有个间接的制约
- 用绝对地址编写的程序不适合多道程序系统运行
	> 后调用的程序可能覆盖之前程序使用的内存，从而导致前面程序访问内存错误。所以用绝对地址编写的程序不适合多道程序系统运行
- 在可变式分区分配方案中，某一作业完成，系统收回其主存空间，并与相邻空闲区合并，为此需要修改分区表，造成空闲区数减一的情况是
	> 有上邻空闲区，也有下邻空闲区
	> 原来有 n 个池塘，又挖了一个新的池塘正好将原来两个池塘打通，总的池塘数变为 n-1。
- OS 的不确定性有
	> 程序运行结果不确定
	> 程序运行次序不确定
	> 程序多次运行的时间不确定
- 满足短任务优先，且不会发生饥饿现象的调度算法是
	> 高响应比优先
- Linux 文件名的长度不能超过（）个字符
	> 256
- Unix 是一个**多用户多任务**系统
- 哪些线程同步锁可以为递归锁
	> - 互斥量
	> - 临界区
- I/O 控制方式
	> **程序 IO 方式**：采用 Busy-Waiting 的方式，即 CPU 会采用轮询的方式访问数据
	> **中断 IO 方式**：设备控制器当取出一个数据之后向 CPU 发送一个中断，然后 CPU 将数据从控制器取到 CPU 寄存器，然后再转移到内存中。
	> **DMA 方式**：CPU 向 DMA 控制器设定若干参数，然后 DMA 打开了一条内存到设备的通道，这样设备中的数据可以不通过 CPU 来进行数据交互。缺点是有多少设备就需要多少 DMA，DMA 方式下，CPU 访问设备是以数据块为周期的。
	> **IO 通道**：相当于一条 PCI 总线，一条 IO 通道可以连接所有的设备控制器。然后 CPU 向 IO 通道发出指令，IO 通道会自动进行获取数据。该方式下，IO 通道是以一组块为单位进行获取的。
- Unix 系统中，磁盘块大小为 1KB，每个块号为 32 位，直接寻址和一次寻址的范围为
	> **直接索引**：
	> 寻址范围 = 直接索引表项数 = 直接索引表总数 * 每个索引表表项数 = 10 * 1KB = 10KB
	> **一次索引**：
	> 寻址范围 = 一级间接地址表项数 + 直接索引表项数 = 256 * 1KB + 10 * 1KB = 266KB
- 文件系统的主要目的
	> 文件系统的主要目的是实现文件的按名存取
- 消息缓冲队列通信中，消息队列属于临界资源，多个进程必须对它进行互斥的访问
- 流水线的时钟周期应以最长的执行时间为准
- 进程的执行过程表现为 CPU 区间（CPU Burst）和 I/O 区间（I/O Burst）的交替过程，进程执行的最后过程应该是 CPU Brust
	> 进程是否执行完需要 CPU 进行判断，执行完后还需要 CPU 对内存进行操作，释放资源。
- 为了确定下一跳微指令的地址，通常使用断定方式，其基本思想是
	> 通过微指令的顺序控制字段缠手后继微指令地址
- Nginx 的 Master 进程需要以 root 权限运行
- 系统抖动是指刚被调出的页又立刻被调入所形成的频繁调入调出的现象
- 有 m 个进程的系统中出现死锁时，死锁进程的个数 K 应该满足的条件时 2<=K<=m
- 为了提高设备分配的灵活性，用户申请设备时应指定**设备类相对号**
- 虚存的最基本特征时多次性




















